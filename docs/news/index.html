<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>All news • testthat</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- tidyverse -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">testthat</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/r-lib/testthat">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">

  <div class="col-md-9">
    <div class="page-header">
      <h1>Change log <small>All releases</small></h1>
    </div>

    <div class="contents">
    <div id="testthat-1-0-2-9000-2-0-0-on-release" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-1-0-2-9000-2-0-0-on-release" class="anchor"></a>testthat 1.0.2.9000 (2.0.0 on release)</h1>
<div id="api-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#api-changes" class="anchor"></a>API changes</h2>
<ul>
<li>
<code><a href="../reference/oldskool.html">is_null()</a></code> and <code><a href="../reference/oldskool.html">matches()</a></code> have been deprecated because they conflict with other functions in the tidyverse (#523).</li>
</ul>
</div>
<div id="expectations" class="section level2">
<h2 class="hasAnchor">
<a href="#expectations" class="anchor"></a>Expectations</h2>
<div id="new-and-improved-expectations" class="section level3">
<h3 class="hasAnchor">
<a href="#new-and-improved-expectations" class="anchor"></a>New and improved expectations</h3>
<ul>
<li><p><code><a href="../reference/output-expectations.html">expect_condition()</a></code> works like <code><a href="../reference/output-expectations.html">expect_error()</a></code> but captures any condition, not just error conditions (#621).</p></li>
<li><p><code><a href="../reference/output-expectations.html">expect_error()</a></code> gains a <code>class</code> argument that allows you to make an assertion about the class of the error object (#530).</p></li>
<li><p><code><a href="../reference/equality-expectations.html">expect_reference()</a></code> checks if two names point to the same object (#622).</p></li>
<li><p><code><a href="../reference/equality-expectations.html">expect_setequal()</a></code> compares two sets (stored in vectors), ignoring duplicates and differences in order (#528).</p></li>
</ul>
</div>
<div id="new-and-improved-skips" class="section level3">
<h3 class="hasAnchor">
<a href="#new-and-improved-skips" class="anchor"></a>New and improved skips</h3>
<ul>
<li><p><code><a href="../reference/skip.html">skip_if()</a></code> makes it easy to skip a test when a condition is true (#571). For example, use <code><a href="../reference/skip.html">skip_if(getRversion() &lt;= 3.1)</a></code> to skip a test for older R versions.</p></li>
<li><p><code><a href="../reference/skip.html">skip_if_translated()</a></code> skips tests if you’re running in an locale where translations are likely to occur (#565). Use this to avoid spurious failures when checking the text of error messages in non-English locales.</p></li>
<li><p><code><a href="../reference/skip.html">skip_if_not_installed()</a></code> gains new <code>minimum_version</code> argument (#487, #499).</p></li>
</ul>
</div>
<div id="known-good-values" class="section level3">
<h3 class="hasAnchor">
<a href="#known-good-values" class="anchor"></a>Known good values</h3>
<p>We have identified a useful family of expectations that compares the results of an expression to a known good value stored in a file. They are designed to be use in conjunction with git so that you can see what precisely has changed, and revert it if needed.</p>
<ul>
<li><p><code><a href="../reference/expect_known_output.html">expect_known_output()</a></code> replaces <code><a href="../reference/expect_known_output.html">expect_output_file()</a></code>, which has been soft-deprecated. It now defaults to <code>update = TRUE</code> and warn, rather than failing on the first run. It gains a <code>print</code> argument to automatically print the input (#627). It also sets the width option to 80 to ensure consistent output across environments (#514)</p></li>
<li><p><code><a href="../reference/expect_known_output.html">expect_known_value()</a></code> replaces <code><a href="../reference/expect_known_output.html">expect_equal_to_reference()</a></code>, which has been soft-deprecated. It gains an update argument defaulting to <code>TRUE</code>. This changes behaviour from the previous version, and soft-deprecated <code><a href="../reference/expect_known_output.html">expect_equal_to_reference()</a></code> gets <code>update = FALSE</code>.</p></li>
<li><p><code><a href="../reference/expect_success.html">expect_known_failure()</a></code> stored and compares the failure message from an expectation. It’s a useful regression test when developing informative failure messges for your own expectations.</p></li>
</ul>
</div>
<div id="quasiquotation-support" class="section level3">
<h3 class="hasAnchor">
<a href="#quasiquotation-support" class="anchor"></a>Quasiquotation support</h3>
<p>All expectations can now use unquoting (#626). This makes it much easier to generate informative failure messages when running tests in a for loop.</p>
<p>For example take this test:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> </span><span class="cf">function</span>(i) <span class="cf">if</span> (i <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>) i <span class="op">*</span><span class="st"> </span><span class="dv">9</span> <span class="cf">else</span> i <span class="op">*</span><span class="st"> </span><span class="dv">10</span>

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {
  <span class="kw"><a href="../reference/equality-expectations.html">expect_equal</a></span>(<span class="kw">f</span>(i), i <span class="op">*</span><span class="st"> </span><span class="dv">10</span>)
}</code></pre></div>
<p>When it fails, you’ll see the message “Error: <code>f(i)</code> not equal to <code>i * 10</code>”. That’s hard to diagnose because you don’t know which iteration caused the problem!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {
  <span class="kw"><a href="../reference/equality-expectations.html">expect_equal</a></span>(<span class="kw">f</span>(<span class="op">!!</span>i), <span class="op">!!</span>(i <span class="op">*</span><span class="st"> </span><span class="dv">10</span>))
}</code></pre></div>
<p>If you unquote the values using <code>!!</code>, you get the failure message “<code>f(4L)</code> not equal to 40.`”. This is much easier to diagnose!</p>
<p>(Note that this is not tidy evaluation per se, but is closely related. At this time you can not unquote quosures.)</p>
</div>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<div id="setup-and-teardown" class="section level3">
<h3 class="hasAnchor">
<a href="#setup-and-teardown" class="anchor"></a>Setup and teardown</h3>
<ul>
<li><p>New <code><a href="../reference/teardown.html">setup()</a></code> and <code><a href="../reference/teardown.html">teardown()</a></code> functions allow you to run at the start and end of each test file. This is useful if you want to pair cleanup code with the code that messes up state (#536).</p></li>
<li><p>Two new prefixes are recognised in the <code>test/</code> directory. Files starting with <code>setup</code> are run before tests (but unlike <code>helpers</code> are not run in <code><a href="http://www.rdocumentation.org/packages/devtools/topics/load_all">devtools::load_all()</a></code>). Files starting with <code>teardown</code> are run after all tests are completed (#589).</p></li>
</ul>
</div>
<div id="other-new-features" class="section level3">
<h3 class="hasAnchor">
<a href="#other-new-features" class="anchor"></a>Other new features</h3>
<ul>
<li><p>All files are now read and written as UTF-8 (#510, #605).</p></li>
<li>
<p><code><a href="../reference/test_dir.html">is_testing()</a></code> allows you to tell if your code is being run inside a testing environment (#631). Rather than taking a run-time dependency on testthat you may want to inline the function into your own package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">is_testing &lt;-<span class="st"> </span><span class="cf">function</span>() {
  <span class="kw">identical</span>(<span class="kw">Sys.getenv</span>(<span class="st">"TESTTHAT"</span>), <span class="st">"true"</span>)
}</code></pre></div>
<p>It’s frequently useful to combine with <code>interactive()</code>.</p>
</li>
</ul>
</div>
<div id="new-default-reporter" class="section level3">
<h3 class="hasAnchor">
<a href="#new-default-reporter" class="anchor"></a>New default reporter</h3>
<p>A new default reporter, <code>ReporterProgress</code>, produces more aesthetically pleasing output and makes the most important information available upfront (#529). You can return to the previous default by setting <code>option(testthat.default_reporter = "summary")</code>.</p>
</div>
<div id="reporters" class="section level3">
<h3 class="hasAnchor">
<a href="#reporters" class="anchor"></a>Reporters</h3>
<ul>
<li><p>Output colours have been tweaked to be consistent with clang: warnings are now in magenta, and skips in blue.</p></li>
<li><p>New <code><a href="../reference/default_reporter.html">default_reporter()</a></code> which returns the default report (#504).</p></li>
<li><p>New <code>DebugReporter</code> that calls a better version of <code>recover()</code> in case of failures, errors, or warnings (#360, #470).</p></li>
<li><p>New <code>JunitReporter</code> generates reports in JUnit compatible format.<br>
(#481, @lbartnik; #640, @nealrichardson; #575)</p></li>
<li><p>New <code>LocationReporter</code> which just prints the location of every expectation. This is useful for locating segfaults and C/C++ breakpoints (#551).</p></li>
<li><p><code>SummaryReporter</code> recieved a number of smaller tweaks</p></li>
<li><p>Aborts testing as soon the limit given by the option <code>testthat.summary.max_reports</code> (default 10) is reached (#520).</p></li>
<li><p>New option <code>testthat.summary.omit_dots = TRUE</code> hides the progress dots speeding up tests by a small amount (#502).</p></li>
<li><p>Bring back random praise and encouragement which I accidentally dropped (#478).</p></li>
<li><p>New option <code>testthat.default_check_reporter</code>, defaults to <code>"check"</code>. Continuous Integration system can set this option before evaluating package test sources in order to direct test result details to known location.</p></li>
<li><p>All reporters now accept a <code>file</code> argument on initialization. If provided, reporters will write the test results to that path. This output destination can also be controlled with the option <code>testthat.output_file</code> (#635, @nealrichardson).</p></li>
</ul>
</div>
</div>
<div id="minor-improvements-and-bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-and-bug-fixes" class="anchor"></a>Minor improvements and bug fixes</h2>
<ul>
<li>Updated Catch to 1.9.6. <code>testthat</code> now understands and makes use of the package routine registration mechanism required by CRAN with R &gt;= 3.4.0.</li>
</ul>
<p>(@kevinushey)</p>
<ul>
<li><p>Better reporting for deeply nested failures, limiting the stack trace to the first and last 10 entries (#474).</p></li>
<li><p>Bare expectations notify the reporter once again. This is achieved by running all tests inside <code>test_code()</code> by default (#427, #498). This behaviour can be overridden by setting <code>wrap = FALSE</code> in <code><a href="../reference/test_dir.html">test_dir()</a></code> and friends (#586).</p></li>
<li><p><code><a href="../reference/auto_test.html">auto_test()</a></code> and <code><a href="../reference/auto_test_package.html">auto_test_package()</a></code> provide <code>hash</code> parameter to enable switching to faster, time-stamp-based modification detection (#598, @katrinleinweber). <code><a href="../reference/auto_test_package.html">auto_test_package()</a></code> works correctly on windows (#465).</p></li>
<li><p><code><a href="../reference/capture_output.html">capture_output_lines()</a></code> is now exported (#504).</p></li>
<li><p><code><a href="../reference/compare.html">compare.character()</a></code> works correctly for vectors of length &gt; 5 (#513, @brodieG)</p></li>
<li><p><code><a href="../reference/compare.html">compare.default()</a></code> gains a <code>max_diffs</code> argument and defaults to printing out only the first 9 differences (#538).</p></li>
<li><p><code><a href="../reference/compare.html">compare.numeric()</a></code> respects <code>check.attributes()</code> so <code><a href="../reference/equality-expectations.html">expect_equivalent()</a></code> correctly ignores attributes of numeric vectors (#485).</p></li>
<li><p><code><a href="../reference/equality-expectations.html">expect_equivalent()</a></code> now passes <code>...</code> on to <code><a href="../reference/compare.html">compare()</a></code> (#552).</p></li>
<li><p>Output expectations (<code><a href="../reference/output-expectations.html">expect_output()</a></code>, <code><a href="../reference/output-expectations.html">expect_message()</a></code>, <code><a href="../reference/output-expectations.html">expect_warning()</a></code>, and <code><a href="../reference/output-expectations.html">expect_silent()</a></code>) all invisibly return the first argument to be consistent with the other expectations (#615).</p></li>
<li><p><code><a href="../reference/expect_length.html">expect_length()</a></code> works with any object that has a <code>length</code> method, not just vectors (#564, @nealrichardson)</p></li>
<li><p><code><a href="../reference/expect_match.html">expect_match()</a></code> now accepts explicit <code>perl</code> and <code>fixed</code> arguments, and adapts the failure message to the value of <code>fixed</code>. This also affects other expectations that forward to <code><a href="../reference/expect_match.html">expect_match()</a></code>, like <code><a href="../reference/output-expectations.html">expect_output()</a></code>, <code><a href="../reference/output-expectations.html">expect_message()</a></code>, <code><a href="../reference/output-expectations.html">expect_warning()</a></code>, and <code><a href="../reference/output-expectations.html">expect_error()</a></code>.</p></li>
<li><p><code><a href="../reference/expect_match.html">expect_match()</a></code> escapes special regular expression characters when printing (#522, @jimhester).</p></li>
<li><p><code><a href="../reference/output-expectations.html">expect_message()</a></code>, <code><a href="../reference/output-expectations.html">expect_warning()</a></code> and <code><a href="../reference/output-expectations.html">expect_error()</a></code> produce clearer failure messages.</p></li>
<li><p><code><a href="../reference/find_test_scripts.html">find_test_scripts()</a></code> only looks for <code>\.[rR]</code> in the extension (#492, @brodieG)</p></li>
<li><p><code><a href="../reference/test_dir.html">test_dir()</a></code>, <code><a href="../reference/test_dir.html">test_package()</a></code>, <code><a href="../reference/test_dir.html">test_check()</a></code> unset the <code>R_TESTS</code> env var (#603)</p></li>
<li><p><code><a href="../reference/test_examples.html">test_examples()</a></code> now works with installed packages as well as source packages (@jimhester, #532).</p></li>
<li><p><code><a href="../reference/with_mock.html">with_mock()</a></code> disallows mocking of functions in base packages, because this doesn’t work with the current development version of R (#553).</p></li>
<li><p><code><a href="../reference/test_dir.html">test_dir()</a></code>, <code><a href="../reference/test_dir.html">test_package()</a></code>, and <code><a href="../reference/test_dir.html">test_check()</a></code> gain <code>stop_on_failure</code> and <code>stop_on_waring</code> arguments that control whether or not an error is signalled if any tests fail or generate warnings (#609, #619).</p></li>
<li><p><code><a href="../reference/test_file.html">test_file()</a></code> now triggers a <code>gc()</code> after tests are run. This helps to ensure that finalisers are run earlier (#535).</p></li>
<li><p><code><a href="../reference/test_path.html">test_path()</a></code> now generates correct path when called from within <code><a href="http://www.rdocumentation.org/packages/tools/topics/testInstalledPackage">tools::testInstalledPackage()</a></code> (#542).</p></li>
<li><p><code><a href="../reference/test_path.html">test_path()</a></code> no longer assumes that the path exists (#448).</p></li>
<li><p><code><a href="../reference/test_that.html">test_that()</a></code> calls without any expectations generate a default <code><a href="../reference/skip.html">skip()</a></code> (#413).</p></li>
<li><p><code><a href="../reference/test_dir.html">test_dir()</a></code> gains <code>load_helpers</code> argument (#505).</p></li>
</ul>
</div>
</div>
    <div id="testthat-1-0-2" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-1-0-2" class="anchor"></a>testthat 1.0.2</h1>
<ul>
<li>Ensure <code>std::logic_error()</code> constructed with <code>std::string()</code> argument, to avoid build errors on Solaris.</li>
</ul>
</div>
    <div id="testthat-1-0-1" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-1-0-1" class="anchor"></a>testthat 1.0.1</h1>
<ul>
<li><p>New <code><a href="../reference/expect_known_output.html">expect_output_file()</a></code> to compare output of a function with a text file, and optionally update it (#443, @krlmlr).</p></li>
<li><p>Properly scoped use + compilation of C++ unit testing code using Catch to <code>gcc</code> and <code>clang</code> only, as Catch includes code that does not strictly conform to the C++98 standard. (@kevinushey)</p></li>
<li><p>Fixed an out-of-bounds memory access when routing Catch output through <code>Rprintf()</code>. (@kevinushey)</p></li>
<li>Ensure that unit tests run on R-oldrel (remove use of <code>dir.exists()</code>).</li>
</ul>
<p>(@kevinushey)</p>
<ul>
<li><p>Improved overriding of calls to <code>exit()</code> within Catch, to ensure compatibility with GCC 6.0. (@krlmlr)</p></li>
<li><p>Hardened formatting of difference messages, previously the presence of <code>%</code> characters could affect the output (#446, @krlmlr).</p></li>
<li><p>Fixed errors in <code><a href="../reference/equality-expectations.html">expect_equal()</a></code> when comparing numeric vectors with and without attributes (#453, @krlmlr).</p></li>
<li><p><code><a href="../reference/auto_test.html">auto_test()</a></code> and <code><a href="../reference/auto_test_package.html">auto_test_package()</a></code> show only the results of the current test run and not of previously failed runs (#456, @krlmlr).</p></li>
</ul>
</div>
    <div id="testthat-1-0-0" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-1-0-0" class="anchor"></a>testthat 1.0.0</h1>
<div id="breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes" class="anchor"></a>Breaking changes</h2>
<p>The <code><a href="../reference/expectation.html">expectation()</a></code> function now expects an expectation type (one of “success”, “failure”, “error”, “skip”, “warning”) as first argument. If you’re creating your own expectations, you’ll need to use <code><a href="../reference/expectation.html">expect()</a></code> instead (#437).</p>
</div>
<div id="new-expectations" class="section level2">
<h2 class="hasAnchor">
<a href="#new-expectations" class="anchor"></a>New expectations</h2>
<p>The expectation system got a thorough overhaul (#217). This primarily makes it easier to add new expectations in the future, but also included a thorough review of the documentation, ensuring that related expectations are documented together, and have evocative names.</p>
<p>One useful change is that most expectations invisibly return the input <code>object</code>. This makes it possible to chain together expectations with magrittr:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">factor</span>(<span class="st">"a"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/inheritance-expectations.html">expect_type</a></span>(<span class="st">"integer"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/inheritance-expectations.html">expect_s3_class</a></span>(<span class="st">"factor"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/expect_length.html">expect_length</a></span>(<span class="dv">1</span>)</code></pre></div>
<p>(And to make this style even easier, testthat now re-exports the pipe, #412).</p>
<p>The exception to this rule are the expectations that evaluate (i.e. for messages, warnings, errors, output etc), which invisibly return <code>NULL</code>. These functions are now more consistent: using <code>NA</code> will cause a failure if there is a errors/warnings/mesages/output (i.e. they’re not missing), and will <code>NULL</code> fail if there aren’t any errors/warnings/mesages/output. This previously didn’t work for <code><a href="../reference/output-expectations.html">expect_output()</a></code> (#323), and the error messages were confusing with <code><a href="../reference/output-expectations.html">expect_error(..., NA)</a></code> (#342, @nealrichardson + @krlmlr, #317).</p>
<p>Another change is that <code><a href="../reference/output-expectations.html">expect_output()</a></code> now requires you to explicitly print the output if you want to test a print method: <code><a href="../reference/output-expectations.html">expect_output("a", "a")</a></code> will fail, <code><a href="../reference/output-expectations.html">expect_output(print("a"), "a")</a></code> will succeed.</p>
<p>There are six new expectations:</p>
<ul>
<li><p><code><a href="../reference/inheritance-expectations.html">expect_type()</a></code> checks the <em>type</em> of the object (#316), <code><a href="../reference/inheritance-expectations.html">expect_s3_class()</a></code> tests that an object is S3 with given class, <code><a href="../reference/inheritance-expectations.html">expect_s4_class()</a></code> tests that an object is S4 with given class (#373). I recommend using these more specific expectations instead of the more general <code><a href="../reference/inheritance-expectations.html">expect_is()</a></code>.</p></li>
<li><p><code><a href="../reference/expect_length.html">expect_length()</a></code> checks that an object has expected length.</p></li>
<li><p><code><a href="../reference/expect_success.html">expect_success()</a></code> and <code><a href="../reference/expect_success.html">expect_failure()</a></code> are new expectations designed specifically for testing other expectations (#368).</p></li>
</ul>
<p>A number of older features have been deprecated:</p>
<ul>
<li><p><code><a href="../reference/comparison-expectations.html">expect_more_than()</a></code> and <code><a href="../reference/comparison-expectations.html">expect_less_than()</a></code> have been deprecated. Please use <code><a href="../reference/comparison-expectations.html">expect_gt()</a></code> and <code><a href="../reference/comparison-expectations.html">expect_lt()</a></code> instead.</p></li>
<li><p><code><a href="../reference/takes_less_than.html">takes_less_than()</a></code> has been deprecated.</p></li>
<li><p><code><a href="../reference/not.html">not()</a></code> has been deprecated. Please use the explicit individual forms <code><a href="../reference/output-expectations.html">expect_error(..., NA)</a></code> , <code><a href="../reference/output-expectations.html">expect_warning(.., NA)</a></code> and so on.</p></li>
</ul>
</div>
<div id="expectations-are-conditions" class="section level2">
<h2 class="hasAnchor">
<a href="#expectations-are-conditions" class="anchor"></a>Expectations are conditions</h2>
<p>Now all expectations are also conditions, and R’s condition system is used to signal failures and successes (#360, @krlmlr). All known conditions (currently, “error”, “warning”, “message”, “failure”, and “success”) are converted to expectations using the new <code>as.expectation()</code>. This allows third-party test packages (such as <code>assertthat</code>, <code>testit</code>, <code>ensurer</code>, <code>checkmate</code>, <code>assertive</code>) to seamlessly establish <code>testthat</code> compatibility by issuing custom error conditions (e.g., <code>structure(list(message = "Error message"), class = c("customError", "error", "condition"))</code>) and then implementing <code>as.expectation.customError()</code>. The <code>assertthat</code> package contains an example.</p>
</div>
<div id="reporters-1" class="section level2">
<h2 class="hasAnchor">
<a href="#reporters-1" class="anchor"></a>Reporters</h2>
<p>The reporters system class has been considerably refactored to make existing reporters simpler and to make it easier to write new reporters. There are two main changes:</p>
<ul>
<li><p>Reporters classes are now R6 classes instead of Reference Classes.</p></li>
<li>
<p>Each callbacks receive the full context:</p>
<ul>
<li>
<code>add_results()</code> is passed context and test as well as the expectation.</li>
<li>
<code>test_start()</code> and <code>test_end()</code> both get the context and test.</li>
<li>
<code>context_start()</code> and <code>context_end()</code> get the context.</li>
</ul>
</li>
<li><p>Warnings are now captured and reported in most reporters.</p></li>
<li><p>The reporter output goes to the original standard output and is not affected by <code>sink()</code> and <code><a href="../reference/output-expectations.html">expect_output()</a></code> (#420, @krlmlr).</p></li>
<li><p>The default summary reporter lists all warnings (#310), and all skipped tests (@krlmlr, #343). New option <code>testthat.summary.max_reports</code> limits the number of reports printed by the summary reporter. The default is 15 (@krlmlr, #354).</p></li>
<li><p><code>MinimalReporter</code> correct labels errors with E and failures with F (#311).</p></li>
<li><p>New <code>FailReporter</code> to stop in case of failures or errors after all tests (#308, @krlmlr).</p></li>
</ul>
</div>
<div id="other" class="section level2">
<h2 class="hasAnchor">
<a href="#other" class="anchor"></a>Other</h2>
<ul>
<li><p>New functions <code><a href="../reference/capture_output.html">capture_output()</a></code>, <code><a href="../reference/capture_condition.html">capture_message()</a></code>, and <code><a href="../reference/capture_condition.html">capture_warnings()</a></code> selectively capture function output. These are used in <code><a href="../reference/output-expectations.html">expect_output()</a></code>, <code><a href="../reference/output-expectations.html">expect_message()</a></code> and <code><a href="../reference/output-expectations.html">expect_warning()</a></code> to allow other types out output to percolate up (#410).</p></li>
<li><p><code><a href="../reference/try_again.html">try_again()</a></code> allows you to retry code multiple times until it succeeds (#240).</p></li>
<li><p><code><a href="../reference/test_file.html">test_file()</a></code>, <code><a href="../reference/test_dir.html">test_check()</a></code>, and <code><a href="../reference/test_dir.html">test_package()</a></code> now attach testthat so all testing functions are available.</p></li>
<li><p><code><a href="../reference/source_file.html">source_test_helpers()</a></code> gets a useful default path: the testthat tests directory. It defaults to the <code><a href="../reference/test_env.html">test_env()</a></code> to be consistent with the other source functions (#415).</p></li>
<li><p><code><a href="../reference/test_file.html">test_file()</a></code> now loads helpers in the test directory before running the tests (#350).</p></li>
<li><p><code><a href="../reference/test_path.html">test_path()</a></code> makes it possible to create paths to files in <code>tests/testthat</code> that work interactively and when called from tests (#345).</p></li>
<li><p>Add <code><a href="../reference/skip.html">skip_if_not()</a></code> helper.</p></li>
<li><p>Add <code><a href="../reference/skip.html">skip_on_bioc()</a></code> helper (@thomasp85).</p></li>
<li><p><code><a href="../reference/make_expectation.html">make_expectation()</a></code> uses <code><a href="../reference/equality-expectations.html">expect_equal()</a></code>.</p></li>
<li><p><code>setup_test_dir()</code> has been removed. If you used it previously, instead use <code><a href="../reference/source_file.html">source_test_helpers()</a></code> and <code><a href="../reference/find_test_scripts.html">find_test_scripts()</a></code>.</p></li>
<li><p><code><a href="../reference/source_file.html">source_file()</a></code> exports the function testthat uses to load files from disk.</p></li>
<li><p><code><a href="../reference/test_that.html">test_that()</a></code> returns a <code>logical</code> that indicates if all tests were successful (#360, @krlmlr).</p></li>
<li><p><code><a href="../reference/find_reporter.html">find_reporter()</a></code> (and also all high-level testing functions) support a vector of reporters. For more than one reporter, a <code>MultiReporter</code> is created (#307, @krlmlr).</p></li>
<li><p><code><a href="../reference/reporter-accessors.html">with_reporter()</a></code> is used internally and gains new argument <code>start_end_reporter = TRUE</code> (@krlmlr, 355).</p></li>
<li><p><code><a href="../reference/reporter-accessors.html">set_reporter()</a></code> returns old reporter invisibly (#358, @krlmlr).</p></li>
<li><p>Comparing integers to non-numbers doesn’t raise errors anymore, and falls back to string comparison if objects have different lengths. Complex numbers are compared using the same routine (#309, @krlmlr).</p></li>
<li><p><code><a href="../reference/compare.html">compare.numeric()</a></code> and <code>compare.chacter()</code> recieved another overhaul. This should improve behaviour of edge cases, and provides a strong foundation for further work. Added <code><a href="../reference/compare.html">compare.POSIXt()</a></code> for better reporting of datetime differences.</p></li>
<li><p><code>expect_identical()</code> and <code><a href="../reference/oldskool.html">is_identical_to()</a></code> now use <code><a href="../reference/compare.html">compare()</a></code> for more detailed output of differences (#319, @krlmlr).</p></li>
<li><p>Added <a href="https://github.com/philsquared/Catch">Catch</a> v1.2.1 for unit testing of C++ code. See <code>?use_catch()</code> for more details. (@kevinushey)</p></li>
</ul>
</div>
</div>
    <div id="testthat-0-11-0" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-11-0" class="anchor"></a>testthat 0.11.0</h1>
<ul>
<li><p>Handle skipped tests in the TAP reporter (#262).</p></li>
<li><p>New <code><a href="../reference/output-expectations.html">expect_silent()</a></code> ensures that code produces no output, messages, or warnings (#261).</p></li>
<li><p>New <code><a href="../reference/comparison-expectations.html">expect_lt()</a></code>, <code><a href="../reference/comparison-expectations.html">expect_lte()</a></code>, <code><a href="../reference/comparison-expectations.html">expect_gt()</a></code> and <code><a href="../reference/comparison-expectations.html">expect_gte()</a></code> for comparison with or without equality (#305, @krlmlr).</p></li>
<li><p><code><a href="../reference/output-expectations.html">expect_output()</a></code>, <code><a href="../reference/output-expectations.html">expect_message()</a></code>, <code><a href="../reference/output-expectations.html">expect_warning()</a></code>, and <code><a href="../reference/output-expectations.html">expect_error()</a></code> now accept <code>NA</code> as the second argument to indicate that output, messages, warnings, and errors should be absent (#219).</p></li>
<li><p>Praise gets more diverse thanks to the praise package, and you’ll now get random encouragment if your tests don’t pass.</p></li>
<li><p>testthat no longer muffles warning messages. If you don’t want to see them in your output, you need to explicitly quiet them, or use an expectation that captures them (e.g. <code><a href="../reference/output-expectations.html">expect_warning()</a></code>). (#254)</p></li>
<li><p>Use tests in <code>inst/tests</code> is formally deprecated. Please move them into <code>tests/testthat</code> instead (#231).</p></li>
<li><p><code><a href="../reference/expect_match.html">expect_match()</a></code> now encodes the match, as well as the output, in the expectation message (#232).</p></li>
<li><p><code><a href="../reference/inheritance-expectations.html">expect_is()</a></code> gives better failure message when testing multiple inheritance, e.g. <code><a href="../reference/inheritance-expectations.html">expect_is(1:10, c("glm", "lm"))</a></code> (#293).</p></li>
<li><p>Corrected argument order in <code><a href="../reference/compare.html">compare.numeric()</a></code> (#294).</p></li>
<li><p><code>comparison()</code> constructure now checks its arguments are the correct type and length. This bugs a bug where tests failed with an error like “values must be length 1, but FUN(X[[1]]) result is length 2” (#279).</p></li>
<li><p>Added <code><a href="../reference/skip.html">skip_on_os()</a></code>, to skip tests on specified operating systems (@kevinushey).</p></li>
<li><p>Skip test that depends on <code>devtools</code> if it is not installed (#247, @krlmlr)</p></li>
<li><p>Added <code><a href="../reference/skip.html">skip_on_appveyor()</a></code> to skip tests on Appveyor (@lmullen).</p></li>
<li><p><code><a href="../reference/compare.html">compare()</a></code> shows detailed output of differences for character vectors of different length (#274, @krlmlr).</p></li>
<li><p>Detailed output from <code><a href="../reference/equality-expectations.html">expect_equal()</a></code> doesn’t confuse expected and actual values anymore (#274, @krlmlr).</p></li>
</ul>
</div>
    <div id="testthat-0-10-0" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-10-0" class="anchor"></a>testthat 0.10.0</h1>
<ul>
<li><p>Failure locations are now formated as R error locations.</p></li>
<li><p>Add an ‘invert’ argument to <code>find_tests_scripts()</code>. This allows one to select only tests which do <em>not</em> match a pattern. (#239, @jimhester).</p></li>
<li><p>Deprecated <code>library_if_available()</code> has been removed.</p></li>
<li><p>test (<code><a href="../reference/test_dir.html">test_dir()</a></code>, <code><a href="../reference/test_file.html">test_file()</a></code>, <code><a href="../reference/test_dir.html">test_package()</a></code>, <code><a href="../reference/test_dir.html">test_check()</a></code>) functions now return a <code>testthat_results</code> object that contains all results, and can be printed or converted to data frame.</p></li>
<li><p><code><a href="../reference/test_dir.html">test_dir()</a></code>, <code><a href="../reference/test_dir.html">test_package()</a></code>, and <code><a href="../reference/test_dir.html">test_check()</a></code> have an added <code>...</code> argument that allows filtering of test files using, e.g., Perl-style regular expressions,or <code>fixed</code> character filtering. Arguments in <code>...</code> are passed to <code>grepl()</code> (@leeper).</p></li>
<li><p><code><a href="../reference/test_dir.html">test_check()</a></code> uses a new reporter specifically designed for <code>R CMD check</code>. It displays a summary at the end of the tests, designed to be &lt;13 lines long so test failures in <code>R CMD check</code> display something more useful. This will hopefully stop BDR from calling testthat a “test obfuscation suite” (#201).</p></li>
<li><p><code><a href="../reference/compare.html">compare()</a></code> is now documented and exported. Added a numeric method so when long numeric vectors don’t match you’ll see some examples of where the problem is (#177). The line spacing in <code><a href="../reference/compare.html">compare.character()</a></code> was tweaked.</p></li>
<li><p><code><a href="../reference/skip.html">skip_if_not_installed()</a></code> skips tests if a package isn’t installed (#192).</p></li>
<li><p><code><a href="../reference/expect_that.html">expect_that(a, equals(b))</a></code> style of testing has been soft-deprecated. It will keep working, but it’s no longer demonstrated any where, and new expectations will only be available in <code><a href="../reference/equality-expectations.html">expect_equal(a, b)</a></code> style. (#172)</p></li>
<li><p>Once again, testthat suppresses messages and warnings in tests (#189)</p></li>
<li><p>New <code><a href="../reference/test_examples.html">test_examples()</a></code> lets you run package examples as tests. Each example counts as one expectation and it succeeds if the code runs without errors (#204).</p></li>
<li><p>New <code><a href="../reference/fail.html">succeed()</a></code> expectation always succeeds.</p></li>
<li><p><code><a href="../reference/skip.html">skip_on_travis()</a></code> allows you to skip tests when run on Travis CI. (Thanks to @mllg)</p></li>
<li><p><code>colourise()</code> was removed. (Colour is still supported, via the <code>crayon</code> package.)</p></li>
<li><p>Mocks can now access values local to the call of <code>with_mock</code> (#193, @krlmlr).</p></li>
<li><p>All equality expectations are now documented together (#173); all matching expectations are also documented together.</p></li>
</ul>
</div>
    <div id="testthat-0-9-1" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-9-1" class="anchor"></a>testthat 0.9.1</h1>
<ul>
<li>Bump R version dependency</li>
</ul>
</div>
    <div id="testthat-0-9" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-9" class="anchor"></a>testthat 0.9</h1>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li><p>BDD: testhat now comes with an initial behaviour driven development (BDD) interface. The language is similiar to RSpec for Ruby or Mocha for JavaScript. BDD tests read like sentences, so they should make it easier to understand the specification of a function. See <code>?describe()</code> for further information and examples.</p></li>
<li><p>It’s now possible to <code><a href="../reference/skip.html">skip()</a></code> a test with an informative message - this is useful when tests are only available under certain conditions, as when not on CRAN, or when an internet connection is available (#141).</p></li>
<li><p><code><a href="../reference/skip.html">skip_on_cran()</a></code> allows you to skip tests when run on CRAN. To take advantage of this code, you’ll need either to use devtools, or run <code>Sys.setenv(NOT_CRAN = "true"))</code></p></li>
<li><p>Simple mocking: <code><a href="../reference/with_mock.html">with_mock()</a></code> makes it easy to temporarily replace functions defined in packages. This is useful for testing code that relies on functions that are slow, have unintended side effects or access resources that may not be available when testing (#159, @krlmlr).</p></li>
<li><p>A new expectation, <code><a href="../reference/expect_known_output.html">expect_equal_to_reference()</a></code> has been added. It tests for equality to a reference value stored in a file (#148, @jonclayden).</p></li>
</ul>
</div>
<div id="minor-improvements-and-bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-and-bug-fixes-1" class="anchor"></a>Minor improvements and bug fixes</h2>
<ul>
<li><p><code><a href="../reference/auto_test_package.html">auto_test_package()</a></code> works once more, and now uses <code><a href="http://www.rdocumentation.org/packages/devtools/topics/load_all">devtools::load_all()</a></code> for higher fidelity loading (#138, #151).</p></li>
<li><p>Bug in <code><a href="../reference/compare.html">compare.character()</a></code> fixed, as reported by Georgi Boshnakov.</p></li>
<li><p><code>colourise()</code> now uses option <code>testthat.use_colours</code> (default: <code>TRUE</code>). If it is <code>FALSE</code>, output is not colourised (#153, @mbojan).</p></li>
<li><p><code><a href="../reference/oldskool.html">is_identical_to()</a></code> only calls <code>all.equal()</code> to generate an informative error message if the two objects are not identical (#165).</p></li>
<li><p><code><a href="../reference/safe_digest.html">safe_digest()</a></code> uses a better strategy, and returns NA for directories (#138, #146).</p></li>
<li><p>Random praise is renabled by default (again!) (#164).</p></li>
<li><p>Teamcity reporter now correctly escapes output messages (#150, @windelinckx). It also uses nested suites to include test names.</p></li>
</ul>
</div>
<div id="deprecated-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#deprecated-functions" class="anchor"></a>Deprecated functions</h2>
<ul>
<li>
<code>library_if_available()</code> has been deprecated.</li>
</ul>
</div>
</div>
    <div id="testthat-0-8-1" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-8-1" class="anchor"></a>testthat 0.8.1</h1>
<ul>
<li><p>Better default environment for <code><a href="../reference/test_dir.html">test_check()</a></code> and <code><a href="../reference/test_dir.html">test_package()</a></code> which allows S4 class creation in tests</p></li>
<li><p><code><a href="../reference/compare.html">compare.character()</a></code> no longer fails when one value is missing.</p></li>
</ul>
</div>
    <div id="testthat-0-8" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-8" class="anchor"></a>testthat 0.8</h1>
<p>testthat 0.8 comes with a new recommended structure for storing your tests. To better meet CRAN recommended practices, testthat now recommend that you to put your tests in <code>tests/testthat</code>, instead of <code>inst/tests</code> (this makes it possible for users to choose whether or not to install tests). With this new structure, you’ll need to use <code><a href="../reference/test_dir.html">test_check()</a></code> instead of <code>test_packages()</code> in the test file (usually <code>tests/testthat.R</code>) that runs all testthat unit tests.</p>
<p>The other big improvement to usability comes from @kforner, who contributed code to allow the default results (i.e. those produced by <code>SummaryReporter</code>) to include source references so you can see exactly where failures occured.</p>
<div id="new-reporters" class="section level2">
<h2 class="hasAnchor">
<a href="#new-reporters" class="anchor"></a>New reporters</h2>
<ul>
<li><p><code>MultiReporter</code>, which combines several reporters into one. (Thanks to @kforner)</p></li>
<li><p><code>ListReporter</code>, which captures all test results with their file, context, test and elapsed time. <code>test_dir</code>, <code>test_file</code>, <code>test_package</code> and <code>test_check</code> now use the <code>ListReporter</code> to invisibly return a summary of the tests as a data frame. (Thanks to @kforner)</p></li>
<li><p><code>TeamCityReporter</code> to produce output compatible with the TeamCity continuous integration environment. (Thanks to @windelinckx)</p></li>
<li><p><code>SilentReporter</code> so that <code>testthat</code> can test calls to <code>test_that</code>. (Thanks to @craigcitro, #83)</p></li>
</ul>
</div>
<div id="new-expectations-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-expectations-1" class="anchor"></a>New expectations</h2>
<ul>
<li><p><code><a href="../reference/inheritance-expectations.html">expect_null()</a></code> and <code>is_null</code> to check if an object is NULL (#78)</p></li>
<li><p><code><a href="../reference/expect_named.html">expect_named()</a></code> and <code><a href="../reference/oldskool.html">has_names()</a></code> to check the names of a vector (#79)</p></li>
<li><p><code><a href="../reference/comparison-expectations.html">expect_more_than()</a></code>, <code><a href="../reference/oldskool.html">is_more_than()</a></code>, <code><a href="../reference/comparison-expectations.html">expect_less_than()</a></code>, <code><a href="../reference/oldskool.html">is_less_than()</a></code> to check values above or below a threshold. (#77, thanks to @jknowles)</p></li>
</ul>
</div>
<div id="minor-improvements-and-bug-fixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-improvements-and-bug-fixes-2" class="anchor"></a>Minor improvements and bug fixes</h2>
<ul>
<li><p><code><a href="../reference/expect_that.html">expect_that()</a></code> (and thus all <code>expect_*</code> functions) now invisibly return the expectation result, and stops if info or label arguments have length &gt; 1 (thanks to @kforner)</p></li>
<li><p>fixed two bugs with source_dir(): it did not look for the source scripts at the right place, and it did not use its <code>chdir</code> argument.</p></li>
<li><p>When using <code><a href="../reference/equality-expectations.html">expect_equal()</a></code> to compare strings, the default output for failure provides a lot more information, which should hopefully help make finding string mismatches easier.</p></li>
<li><p><code>SummaryReporter</code> has a <code>max_reports</code> option to limit the number of detailed failure reports to show. (Thanks to @crowding)</p></li>
<li><p>Tracebacks will now also contain information about where the functions came from (where that information is available).</p></li>
<li><p><code>matches</code> and <code>expect_match</code> now pass additional arguments on to <code>grepl</code> so that you can use <code>fixed = TRUE</code>, <code>perl = TRUE</code> or <code>ignore.case = TRUE</code> to control details of the match. <code>expect_match</code> now correctly fails to match NULL. (#100)</p></li>
<li><p><code>expect_output</code>, <code>expect_message</code>, <code>expect_warning</code> and <code>expect_error</code> also pass … on to <code>grepl</code>, so that you can use <code>fixed = TRUE</code>, <code>perl = TRUE</code> or <code>ignore.case = TRUE</code></p></li>
<li><p>Removed <code>stringr</code> and <code>evaluate</code> dependencies.</p></li>
<li><p>The <code><a href="../reference/not.html">not()</a></code> function makes it possible to negate tests. For example, <code><a href="../reference/expect_that.html">expect_that(f(), not(throws_error()))</a></code> asserts that <code>f()</code> does not throw an error.</p></li>
<li><p>Make <code>dir_state</code> less race-y. (Thanks to @craigcitro, #80)</p></li>
<li><p><code>auto_test</code> now pays attention to its ‘reporter’ argument (Thanks to @crowding, #81)</p></li>
<li><p><code><a href="../reference/reporter-accessors.html">get_reporter()</a></code>, <code><a href="../reference/reporter-accessors.html">set_reporter()</a></code> and <code><a href="../reference/reporter-accessors.html">with_reporter()</a></code> are now exported (#102)</p></li>
</ul>
</div>
</div>
    <div id="testthat-0-7-1" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-7-1" class="anchor"></a>testthat 0.7.1</h1>
<ul>
<li><p>Ignore attributes in <code>is_true</code> and <code>is_false</code> (#49)</p></li>
<li><p><code>make_expectation</code> works for more types of input (#52)</p></li>
<li><p>Now works better with evaluate 0.4.3.</p></li>
<li><p>new <code><a href="../reference/fail.html">fail()</a></code> function always forces a failure in a test. Suggested by Richie Cotton (#47)</p></li>
<li><p>Added <code>TapReporter</code> to produce output compatible with the “test anything protocol”. Contributed by Dan Keshet.</p></li>
<li><p>Fixed where <code>auto_test</code> would identify the wrong files as having changed. (Thanks to Peter Meilstrup)</p></li>
</ul>
</div>
    <div id="testthat-0-7" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-7" class="anchor"></a>testthat 0.7</h1>
<ul>
<li><p><code>SummaryReporter</code>: still return informative messages even if no tests defined (just bare expectations). (Fixes #31)</p></li>
<li><p>Improvements to reference classes (Thanks to John Chambers)</p></li>
<li><p>Bug fixes for when nothing was generated in <code>gives_warning</code> / <code>shows_message</code>. (Thanks to Bernd Bischl)</p></li>
<li><p>New <code>make_expectation</code> function to programmatically generate an equality expectation. (Fixes #24)</p></li>
<li><p><code>SummaryReporter</code>: You don’t get praise until you have some tests.</p></li>
<li><p>Depend on <code>methods</code> rather than requiring it so that testthat works when run from <code>Rscript</code></p></li>
<li><p><code>auto_test</code> now normalises paths to enable better identification of file changes, and fixes bug in instantiating new reporter object.</p></li>
</ul>
</div>
    <div id="testthat-0-6" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-6" class="anchor"></a>testthat 0.6</h1>
<ul>
<li><p>All <code>mutatr</code> classes have been replaced with ReferenceClasses.</p></li>
<li><p>Better documentation for short-hand expectations.</p></li>
<li><p><code>test_dir</code> and <code>test_package</code> gain new <code>filter</code> argument which allows you to restrict which tests are run.</p></li>
</ul>
</div>
    <div id="testthat-0-5" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-5" class="anchor"></a>testthat 0.5</h1>
<ul>
<li>bare expectations now correctly throw errors again</li>
</ul>
</div>
    <div id="testthat-0-4" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-4" class="anchor"></a>testthat 0.4</h1>
<ul>
<li><p>autotest correctly loads code and executes tests in same environment</p></li>
<li><p>contexts are never closed before they are opened, and always closed at the end of file</p></li>
<li><p>fixed small bug in <code>test_dir</code> where each test was not given its own environment</p></li>
<li><p>all <code>expect_*</code> short cut functions gain a label argument, thanks to Steve Lianoglou</p></li>
</ul>
</div>
    <div id="testthat-0-3" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-3" class="anchor"></a>testthat 0.3</h1>
<ul>
<li><p>all expectations now have a shortcut form, so instead of expect_that(a, is_identical_to(b)) you can do expect_identical(a, b)</p></li>
<li><p>new shows_message and gives_warning expectations to test warnings and messages</p></li>
<li><p>expect_that, equals, is_identical_to and is_equivalent to now have additional label argument which allows you to control the appearance of the text used for the expected object (for expect_that) and actual object (for all other functions) in failure messages. This is useful when you have loops that run tests as otherwise all the variable names are identical, and it’s difficult to tell which iteration caused the failure.</p></li>
<li><p>executing bare tests gives nicer output</p></li>
<li><p>all expectations now give more information on failure to make it easier to track down the problem.</p></li>
<li><p>test_file and test_dir now run in code in separate environment to avoid pollution of global environment. They also temporary change the working directory so tests can use relative paths.</p></li>
<li><p>test_package makes it easier to run all tests in an installed package. Code run in this manner has access to non-exported functions and objects. If any errors or failures occur, test_package will throw an error, making it suitable for use with R CMD check.</p></li>
</ul>
</div>
    <div id="testthat-0-2" class="section level1">
<h1 class="hasAnchor">
<a href="#testthat-0-2" class="anchor"></a>testthat 0.2</h1>
<ul>
<li><p>colourise also works in screen terminal</p></li>
<li><p>equals expectation provides more information about failure</p></li>
<li><p>expect_that has extra info argument to allow you to pass in any extra information you’d like included in the message - this is very helpful if you’re using a loop to run tests</p></li>
<li><p>is_equivalent_to: new expectation that tests for equality ignoring attributes</p></li>
<li><p>library_if_available now works! (thanks to report and fix from Felix Andrews)</p></li>
<li><p>specify larger width and join pieces back together whenever deparse used (thanks to report and fix from Felix Andrews)</p></li>
<li><p>test_dir now looks for any files starting with test (not test- as before)</p></li>
</ul>
</div>
    </div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#testthat-1-0-2-9000-2-0-0-on-release">1.0.2.9000</a></li>
        <li><a href="#testthat-1-0-2">1.0.2</a></li>
        <li><a href="#testthat-1-0-1">1.0.1</a></li>
        <li><a href="#testthat-1-0-0">1.0.0</a></li>
        <li><a href="#testthat-0-11-0">0.11.0</a></li>
        <li><a href="#testthat-0-10-0">0.10.0</a></li>
        <li><a href="#testthat-0-9-1">0.9.1</a></li>
        <li><a href="#testthat-0-9">0.9</a></li>
        <li><a href="#testthat-0-8-1">0.8.1</a></li>
        <li><a href="#testthat-0-8">0.8</a></li>
        <li><a href="#testthat-0-7-1">0.7.1</a></li>
        <li><a href="#testthat-0-7">0.7</a></li>
        <li><a href="#testthat-0-6">0.6</a></li>
        <li><a href="#testthat-0-5">0.5</a></li>
        <li><a href="#testthat-0-4">0.4</a></li>
        <li><a href="#testthat-0-3">0.3</a></li>
        <li><a href="#testthat-0-2">0.2</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="tidyverse">
  <p>testthat is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, <a href='https://www.rstudio.com'><img src='http://tidyverse.org/rstudio-logo.svg' height='24' /></a>.</p>
  <p>Site built by <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67989-18', 'auto');
  ga('send', 'pageview');
</script>
      </footer>
   </div>

  </body>
</html>
